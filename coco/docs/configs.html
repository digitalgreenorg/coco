<!DOCTYPE html>

<html>
<head>
  <title>configs.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="app.html">
                app.js
              </a>
            
              
              <a class="source" href="auth.html">
                auth.js
              </a>
            
              
              <a class="source" href="auth_offline_backend.html">
                auth_offline_backend.js
              </a>
            
              
              <a class="source" href="upload_collection.html">
                upload_collection.js
              </a>
            
              
              <a class="source" href="convert_namespace.html">
                convert_namespace.js
              </a>
            
              
              <a class="source" href="denormalize.html">
                denormalize.js
              </a>
            
              
              <a class="source" href="indexeddb_backbone_config.html">
                indexeddb_backbone_config.js
              </a>
            
              
              <a class="source" href="main.html">
                main.js
              </a>
            
              
              <a class="source" href="user_model.html">
                user_model.js
              </a>
            
              
              <a class="source" href="offline_utils.html">
                offline_utils.js
              </a>
            
              
              <a class="source" href="online_utils.html">
                online_utils.js
              </a>
            
              
              <a class="source" href="router.html">
                router.js
              </a>
            
              
              <a class="source" href="user_initialize.html">
                user_initialize.js
              </a>
            
              
              <a class="source" href="app_layout.html">
                app_layout.js
              </a>
            
              
              <a class="source" href="dashboard.html">
                dashboard.js
              </a>
            
              
              <a class="source" href="form.html">
                form.js
              </a>
            
              
              <a class="source" href="form_controller.html">
                form_controller.js
              </a>
            
              
              <a class="source" href="full_download.html">
                full_download.js
              </a>
            
              
              <a class="source" href="incremental_download.html">
                incremental_download.js
              </a>
            
              
              <a class="source" href="list.html">
                list.js
              </a>
            
              
              <a class="source" href="login.html">
                login.js
              </a>
            
              
              <a class="source" href="notification.html">
                notification.js
              </a>
            
              
              <a class="source" href="status.html">
                status.js
              </a>
            
              
              <a class="source" href="upload.html">
                upload.js
              </a>
            
              
              <a class="source" href="configs.html">
                configs.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>configs.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>define([],
<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
    
    <span class="hljs-comment">/*
    var dummy_config = {
        entity_name : 
</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>string = key of this object in all_config, name of objectstore in IDB
for - accessing this object </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        
        <span class="hljs-string">'rest_api_url'</span>: <span class="hljs-string">'/coco/api/v1/village/'</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>string - the rest url for this entity</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    
        <span class="hljs-string">'dashboard_display'</span>: {
            listing: <span class="hljs-literal">false</span>,         <span class="hljs-comment">//whether to provide listing option for this entity on dashboard</span>
            add: <span class="hljs-literal">false</span>              <span class="hljs-comment">//whether to provide add option for this entity on dashboard</span>
        },
    
        -----------------------------------Listing configs---------------------------------
        page_header: <span class="hljs-string">'Village'</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>string = The name that needs to shown in headers </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        list_table_header_template: <span class="hljs-string">'village_table_template'</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>HTML template - The id of template used as coloumn headers in list page</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        list_table_row_template: <span class="hljs-string">'village_list_item_template'</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>HTML template - The id of template used to create rows of list table. 
This template is passed the model json.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        -----------------------------------------------------------------------------------
    
        ----------------------------------Form configs-------------------------------------
        foreign_entities: {
            f_entity_name:{         //the entity_name of foreign element
                attribute_name:{    //the attribute name of this foreign element in json
                    
                    'placeholder': 'string - the id of element in form's html where the dropdown of this f_entity is inserted',
                    
                    'name_field': 'string - the attribute name in f_entity's json which needs to be shown in its dropdown',
                    
                    'dependency': [{    // whether this elements's dropdown depends on value of other form elements
                        'source_form_element': 'village',   // attribute name of source element in json
                        'dep_attr': 'village'   //the attribute name in json of dependent f_entity which refers to source f_entity
                        'src_attr' : //to compare dep_attr of dependent element with a particular attribute in source f_entity
                    }],
                    
                    'filter': { //whether to filter the objects of foreign entity before rendering into dropdown
                        attr: 'group',  //the attribute name in f_entity's json to filter on
                        value: null     //desired value of the attr
                    },
    
                    id_field: "person_id", // the name of id field for this f_entity in denormalised json                         
                }
            },
    
            f_entity_name:{         //the entity_name of foreign element
                attribute_name:{    //the attribute name of this foreign element in json
                    
                    'dependency': [{    // whether this elements's dropdown depends on value of other form elements
                        'source_form_element': 'village',   // attribute name of source element in json
                        'dep_attr': 'village'   //the attribute name in json of dependent f_entity which refers to source f_entity
                    }],

                    id_field: "person_id", // the name of id field for this f_entity in denormalised json</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>would not use options template to render its objects - would use the specfied template<br>won’t be denormalised, wud be converted offline to online, 
any field to be denormalised or converted offline to online can be declared - 
this shd be clubbed and put as foreign entity of expanded.   </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    <span class="hljs-string">'expanded'</span>: { 
                        template: <span class="hljs-string">'person_pma_template'</span>, <span class="hljs-comment">// the template to use instead of options</span>
                        placeholder: <span class="hljs-string">'pmas'</span>,    <span class="hljs-comment">// the id of placeholder in form's HTML</span>
                        TODO: the following two should be merged and converted to same format as foreign_entities
                        denormalize: { <span class="hljs-comment">// any field in expanded template to be denormalised     </span>
                            <span class="hljs-string">"expressed_adoption_video"</span>: {
                                name_field: <span class="hljs-string">'title'</span> <span class="hljs-comment">//used as key for name in denormalised object</span>
                            }
                        },
                        foreign_fields: { <span class="hljs-comment">// any more field in expanded template for offline to online conv</span>
                            <span class="hljs-string">"expressed_adoption_video"</span>: {
                                entity_name: <span class="hljs-string">"video"</span>  <span class="hljs-comment">//the entity_name for this f_entity element</span>
                            }
                        },
                        extra_fields: [<span class="hljs-string">"expressed_question"</span>, <span class="hljs-string">"interested"</span>, <span class="hljs-string">"expressed_adoption_video"</span>]
                    }
                }
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>object - describes the foreign keys in the json of this entity’s model.
To convert between online offline namespaces, denormalize-normalize json    </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    
        inline: {
            <span class="hljs-string">'entity'</span>: <span class="hljs-string">'person'</span>,     <span class="hljs-comment">//entity name of inline</span>
    
            <span class="hljs-string">'default_num_rows'</span>: <span class="hljs-number">10</span>,         <span class="hljs-comment">//default num of rows to show</span>
    
            <span class="hljs-string">"template"</span>: <span class="hljs-string">"person_inline"</span>,    <span class="hljs-comment">//id of template used to render inline</span></pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Include any jquery validation desired inside html of rows 
TODO: need to explain the &lt;%index%&gt; tags required in inlines</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    
            <span class="hljs-string">"foreign_attribute"</span>: {
                <span class="hljs-string">'host_attribute'</span>: [<span class="hljs-string">"id"</span>, <span class="hljs-string">"group_name"</span>],
                <span class="hljs-string">'inline_attribute'</span>: <span class="hljs-string">"group"</span>
            },
            <span class="hljs-string">"header"</span>: <span class="hljs-string">"person_inline_header"</span>,
            <span class="hljs-string">'borrow_attributes'</span>: [{
                <span class="hljs-string">'host_attribute'</span>: <span class="hljs-string">'village'</span>,
                <span class="hljs-string">'inline_attribute'</span>: <span class="hljs-string">'village'</span>
            }]
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>object - describes inlines to be included in this entity’s form</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        bulk:{},</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>object - if multiple objects of this entity type can be saved through its add form, describe configs of object </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        ------------------------------------------------------------------------------------
    }
    */</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>//This template would be passed the json of inline model and shall produce the desired row
    TODO: maybe instead of relying on users to use templating lang we should fill the rows ourselves in js code, like we are doing in form!</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-keyword">var</span> village_configs = {
        <span class="hljs-string">'page_header'</span>: <span class="hljs-string">'Village'</span>,
        <span class="hljs-string">'list_table_header_template'</span>: <span class="hljs-string">'village_table_template'</span>, 
        <span class="hljs-string">'list_table_row_template'</span>: <span class="hljs-string">'village_list_item_template'</span>,
        <span class="hljs-string">'rest_api_url'</span>: <span class="hljs-string">'/coco/api/v1/village/'</span>,
        <span class="hljs-string">'entity_name'</span>: <span class="hljs-string">'village'</span>,
        <span class="hljs-string">'dashboard_display'</span>: {
            listing: <span class="hljs-literal">false</span>,
            add: <span class="hljs-literal">false</span>
        },
        <span class="hljs-string">'sort_field'</span>: <span class="hljs-string">'village_name'</span>
    };

    <span class="hljs-keyword">var</span> mediator_configs = {
        <span class="hljs-string">'page_header'</span>: <span class="hljs-string">'Mediator'</span>,
        <span class="hljs-string">'list_table_header_template'</span>: <span class="hljs-string">'mediator_table_template'</span>,
        <span class="hljs-string">'list_table_row_template'</span>: <span class="hljs-string">'mediator_list_item_template'</span>,
        <span class="hljs-string">'add_template_name'</span>: <span class="hljs-string">'mediator_add_edit_template'</span>,
        <span class="hljs-string">'edit_template_name'</span>: <span class="hljs-string">'mediator_add_edit_template'</span>,
        <span class="hljs-string">'rest_api_url'</span>: <span class="hljs-string">'/coco/api/v1/mediator/'</span>,
        <span class="hljs-string">'entity_name'</span>: <span class="hljs-string">'mediator'</span>,
        <span class="hljs-string">'unique_together_fields'</span>: [<span class="hljs-string">'name'</span>, <span class="hljs-string">'gender'</span>, <span class="hljs-string">'district.id'</span>],
        <span class="hljs-string">'sort_field'</span>: <span class="hljs-string">'name'</span>,
        <span class="hljs-string">'inc_table_name'</span>: <span class="hljs-string">'animator'</span>,
        <span class="hljs-string">'foreign_entities'</span>: {
            <span class="hljs-string">'village'</span>: {
                <span class="hljs-string">"assigned_villages"</span>: {
                    <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_ass_villages'</span>,
                    <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'village_name'</span>
                }, <span class="hljs-comment">//name of html element in form/ attribute name in json: {placeholder: "id of html element in form", name_field: "attribute in foreign entity's json "} </span>
            },
            district: {
                district :{
                    placeholder : <span class="hljs-string">'id_district'</span>,
                    name_field : <span class="hljs-string">'district_name'</span> 
                }
            }
        },
        <span class="hljs-string">'form_field_validation'</span>: {
            ignore: [],
            rules: {
                name: {
                    required: <span class="hljs-literal">true</span>,
                    minlength: <span class="hljs-number">2</span>,
                    maxlength: <span class="hljs-number">100</span>,
                    allowedChar: <span class="hljs-literal">true</span>
                },
                gender: <span class="hljs-string">"required"</span>,
                phone_no: {
                    digits: <span class="hljs-literal">true</span>,
                    maxlength: <span class="hljs-number">10</span>
                },
                assigned_villages: <span class="hljs-string">"required"</span>,
                district: <span class="hljs-string">"required"</span>
            },
            messages: {
                name: {
                    required: <span class="hljs-string">'Mediator name is required'</span>,
                    minlength: <span class="hljs-string">'Mediator name should contain at least 2 characters'</span>,
                    maxlength: <span class="hljs-string">'Mediator name should contain at most 100 characters'</span>,
                    allowedChar: <span class="hljs-string">'Mediator name should contain only english and local language characters'</span>
                },
                gender: <span class="hljs-string">"Gender is required"</span>,
                phone_no: {
                    digits: <span class="hljs-string">'Phone number should contain only digits'</span>,
                    maxlength: <span class="hljs-string">"Phone number should not contain more than 10 digits"</span>
                },
                assigned_villages: <span class="hljs-string">"Assigned villages are required"</span>,
                district: <span class="hljs-string">"District is required"</span>
            },

            highlight: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, errorClass, validClass)</span> {</span>
                $(element)
                    .parent(<span class="hljs-string">'div'</span>)
                    .parent(<span class="hljs-string">'div'</span>)
                    .addClass(<span class="hljs-string">"error"</span>);

            },
            unhighlight: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, errorClass, validClass)</span> {</span>
                $(element)
                    .parent(<span class="hljs-string">'div'</span>)
                    .parent(<span class="hljs-string">'div'</span>)
                    .removeClass(<span class="hljs-string">"error"</span>);

            },
            errorElement: <span class="hljs-string">"span"</span>,
            errorClass: <span class="hljs-string">"help-inline"</span>

        }

    };

    <span class="hljs-keyword">var</span> video_configs = {
        <span class="hljs-string">'page_header'</span>: <span class="hljs-string">'Video'</span>,
        <span class="hljs-string">'list_table_header_template'</span>: <span class="hljs-string">'video_table_template'</span>,
        <span class="hljs-string">'list_table_row_template'</span>: <span class="hljs-string">'video_list_item_template'</span>,
        <span class="hljs-string">'add_template_name'</span>: <span class="hljs-string">'video_add_edit_template'</span>,
        <span class="hljs-string">'edit_template_name'</span>: <span class="hljs-string">'video_add_edit_template'</span>,
        <span class="hljs-string">'rest_api_url'</span>: <span class="hljs-string">'/coco/api/v1/video/'</span>,
        <span class="hljs-string">'entity_name'</span>: <span class="hljs-string">'video'</span>,
        <span class="hljs-string">'unique_together_fields'</span>: [<span class="hljs-string">'title'</span>, <span class="hljs-string">'video_production_start_date'</span>, <span class="hljs-string">'video_production_end_date'</span>, <span class="hljs-string">'village.id'</span>],
        <span class="hljs-string">'sort_field'</span>: <span class="hljs-string">'title'</span>,
        <span class="hljs-string">'foreign_entities'</span>: {
            <span class="hljs-string">'mediator'</span>: {
                <span class="hljs-string">"facilitator"</span>: {
                    <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_facilitator'</span>,
                    <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'name'</span>
                },
                <span class="hljs-string">"cameraoperator"</span>: {
                    <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_cameraoperator'</span>,
                    <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'name'</span>
                },
            },
            <span class="hljs-string">'person'</span>: {
                <span class="hljs-string">"farmers_shown"</span>: {
                    <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_farmers_shown'</span>,
                    <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'person_name'</span>,
                    <span class="hljs-string">'dependency'</span>: [{
                        <span class="hljs-string">'source_form_element'</span>: <span class="hljs-string">'village'</span>,
                        <span class="hljs-string">'dep_attr'</span>: <span class="hljs-string">'village'</span>
                    }]
                },
            },
            <span class="hljs-string">'village'</span>: {
                <span class="hljs-string">"village"</span>: {
                    <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_village'</span>,
                    <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'village_name'</span>
                },
            },
            <span class="hljs-string">'language'</span>: {
                <span class="hljs-string">"language"</span>: {
                    <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_language'</span>,
                    <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'language_name'</span>
                }
            }


        },
        <span class="hljs-string">'form_field_validation'</span>: {
            ignore: [],
            rules: {
                title: {
                    required: <span class="hljs-literal">true</span>,
                    minlength: <span class="hljs-number">2</span>,
                    maxlength: <span class="hljs-number">200</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>allowedChar: true</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                },
                video_type: <span class="hljs-string">"required"</span>,
                video_production_start_date: {
                    required: <span class="hljs-literal">true</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>validateDate: true</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                },
                video_production_end_date: {
                    required: <span class="hljs-literal">true</span>,
					dateOrder: {video_production_start_date : <span class="hljs-string">"video_production_start_date"</span>}</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>validateDate: true</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                },
                language: <span class="hljs-string">"required"</span>,
                summary: {
                    minlength: <span class="hljs-number">2</span>,
                    maxlength: <span class="hljs-number">500</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>allowedChar: true</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                },
                village: <span class="hljs-string">"required"</span>,
                facilitator: <span class="hljs-string">"required"</span>,
                cameraoperator: <span class="hljs-string">"required"</span>,
                farmers_shown: <span class="hljs-string">"required"</span>,
                actors: <span class="hljs-string">"required"</span>,
                video_suitable_for: <span class="hljs-string">"required"</span>,

				approval_date: {
					dateOrder: {video_production_start_date : <span class="hljs-string">"video_production_end_date"</span>}</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>validateDate: true</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                },
                youtubeid: {
                    maxlength: <span class="hljs-number">20</span>
                }
            },
            messages: {
                title: {
                    required: <span class="hljs-string">'Video title is required'</span>,
                    minlength: <span class="hljs-string">'Video title should contain at least 2 characters'</span>,
                    maxlength: <span class="hljs-string">'Video title should contain at most 200 characters'</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>allowedChar: ‘Video title should only contain alphabets and local language characters’</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                },
                video_type: <span class="hljs-string">"Video type is required"</span>,
                video_production_start_date: {
                    required: <span class="hljs-string">'Video production start date is required'</span>,
                    validateDate: <span class="hljs-string">"Enter video production start date in the form of YYYY-MM-DD"</span>
                },
                video_production_end_date: {
                    required: <span class="hljs-string">'Video production end date is required'</span>,
                    validateDate: <span class="hljs-string">"Enter video production end date in the form of YYYY-MM-DD"</span>,
					dateOrder: <span class="hljs-string">"End date should be later than start date"</span>
                },
                language: <span class="hljs-string">"Language is required"</span>,
                summary: {
                    minlength: <span class="hljs-string">"Summary should contain at least 2 characters"</span>,
                    maxlength: <span class="hljs-string">"Summary should contain at most 500 characters"</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>allowedChar: “summary should not contain special characters”</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                },
                village: <span class="hljs-string">"Village is required"</span>,
                facilitator: <span class="hljs-string">"Facilitator is required"</span>,
                cameraoperator: <span class="hljs-string">"Camera operator is required"</span>,
                farmers_shown: <span class="hljs-string">"Persons shown are required"</span>,
                actors: <span class="hljs-string">"Actors are required"</span>,
                video_suitable_for: <span class="hljs-string">"Video suitable for is required"</span>,
                approval_date: {
                    validateDate: <span class="hljs-string">"Enter Approval Date in the form of YYYY-MM-DD"</span>,
					dateOrder: <span class="hljs-string">"Approval date should be later than end date"</span>
                },
                youtubeid: {
                    maxlength: <span class="hljs-string">"YoutubeID should contain at most 20 characters"</span>
                }
            },

            highlight: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, errorClass, validClass)</span> {</span>
                $(element)
                    .parent(<span class="hljs-string">'div'</span>)
                    .parent(<span class="hljs-string">'div'</span>)
                    .addClass(<span class="hljs-string">"error"</span>);

            },
            unhighlight: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, errorClass, validClass)</span> {</span>
                $(element)
                    .parent(<span class="hljs-string">'div'</span>)
                    .parent(<span class="hljs-string">'div'</span>)
                    .removeClass(<span class="hljs-string">"error"</span>);

            },
            errorElement: <span class="hljs-string">"span"</span>,
            errorClass: <span class="hljs-string">"help-inline"</span>

        }
    };

    <span class="hljs-keyword">var</span> language_configs = {
        <span class="hljs-string">'rest_api_url'</span>: <span class="hljs-string">'/coco/api/v1/language/'</span>,
        <span class="hljs-string">'entity_name'</span>: <span class="hljs-string">'language'</span>,
        <span class="hljs-string">'sort_field'</span>: <span class="hljs-string">'language_name'</span>,
        <span class="hljs-string">'dashboard_display'</span>: {
            listing: <span class="hljs-literal">false</span>,
            add: <span class="hljs-literal">false</span>
        }
    };

    <span class="hljs-keyword">var</span> district_configs = {
        <span class="hljs-string">'rest_api_url'</span>: <span class="hljs-string">'/coco/api/v1/district/'</span>,
        <span class="hljs-string">'entity_name'</span>: <span class="hljs-string">'district'</span>,
        <span class="hljs-string">'sort_field'</span>: <span class="hljs-string">'district_name'</span>,
        <span class="hljs-string">'dashboard_display'</span>: {
            listing: <span class="hljs-literal">false</span>,
            add: <span class="hljs-literal">false</span>
        }
    };

    <span class="hljs-keyword">var</span> group_configs = {
        <span class="hljs-string">'page_header'</span>: <span class="hljs-string">'Group'</span>,
        <span class="hljs-string">'list_table_header_template'</span>: <span class="hljs-string">'group_table_template'</span>,
        <span class="hljs-string">'list_table_row_template'</span>: <span class="hljs-string">'group_list_item_template'</span>,
        <span class="hljs-string">'add_template_name'</span>: <span class="hljs-string">'group_add_edit_template'</span>,
        <span class="hljs-string">'edit_template_name'</span>: <span class="hljs-string">'group_add_edit_template'</span>,
        <span class="hljs-string">'rest_api_url'</span>: <span class="hljs-string">'/coco/api/v1/group/'</span>,
        <span class="hljs-string">'entity_name'</span>: <span class="hljs-string">'group'</span>,
        <span class="hljs-string">'inc_table_name'</span>: <span class="hljs-string">'persongroups'</span>,
        <span class="hljs-string">'unique_together_fields'</span>: [<span class="hljs-string">'group_name'</span>, <span class="hljs-string">'village.id'</span>],
        <span class="hljs-string">'sort_field'</span>: <span class="hljs-string">'group_name'</span>,
        <span class="hljs-string">'foreign_entities'</span>: {
            <span class="hljs-string">'village'</span>: {
                <span class="hljs-string">'village'</span>: {
                    <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_village'</span>,
                    <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'village_name'</span>
                },
            },
        },
        <span class="hljs-string">'inline'</span>: {
            <span class="hljs-string">'entity'</span>: <span class="hljs-string">'person'</span>,
            <span class="hljs-string">'default_num_rows'</span>: <span class="hljs-number">10</span>,
            <span class="hljs-string">"template"</span>: <span class="hljs-string">"person_inline"</span>,
            <span class="hljs-string">"joining_attribute"</span>: {
                <span class="hljs-string">'host_attribute'</span>: [<span class="hljs-string">"id"</span>, <span class="hljs-string">"group_name"</span>],
                <span class="hljs-string">'inline_attribute'</span>: <span class="hljs-string">"group"</span>
            },
            <span class="hljs-string">"header"</span>: <span class="hljs-string">"person_inline_header"</span>,
            <span class="hljs-string">'borrow_attributes'</span>: [{
                <span class="hljs-string">'host_attribute'</span>: <span class="hljs-string">'village'</span>,
                <span class="hljs-string">'inline_attribute'</span>: <span class="hljs-string">'village'</span>
            }],
            foreign_entities: { <span class="hljs-comment">//used at convert_namespace, denormalize only</span>
                village: {
                    village: {
                        placeholder: <span class="hljs-string">'id_village'</span>,
                        name_field: <span class="hljs-string">'village_name'</span>
                    },
                },
                group: {
                    group: {
                        placeholder: <span class="hljs-string">'id_group'</span>,
                        name_field: <span class="hljs-string">'group_name'</span>
                    }
                }
            }
        },
        <span class="hljs-string">'form_field_validation'</span>: {
            ignore: <span class="hljs-string">".donotvalidate"</span>,
            rules: {
                group_name: {
                    required: <span class="hljs-literal">true</span>,
                    minlength: <span class="hljs-number">2</span>,
                    maxlength: <span class="hljs-number">100</span>,
                    allowedChar: <span class="hljs-literal">true</span>
                },
                village: <span class="hljs-string">"required"</span>
            },
            messages: {
                name: {
                    required: <span class="hljs-string">'Group name is required'</span>,
                    minlength: <span class="hljs-string">'Group name  should contain at least 2 characters'</span>,
                    maxlength: <span class="hljs-string">'Group name should contain at most 100 characters'</span>,
                    allowedChar: <span class="hljs-string">'Group name should contain only english and local language characters'</span>
                },
                village: <span class="hljs-string">"Village is required"</span>
            },

            highlight: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, errorClass, validClass)</span> {</span>
                $(element)
                    .parent(<span class="hljs-string">'div'</span>)
                    .parent(<span class="hljs-string">'div'</span>)
                    .addClass(<span class="hljs-string">"error"</span>);

            },
            unhighlight: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, errorClass, validClass)</span> {</span>
                $(element)
                    .parent(<span class="hljs-string">'div'</span>)
                    .parent(<span class="hljs-string">'div'</span>)
                    .removeClass(<span class="hljs-string">"error"</span>);

            },
            errorElement: <span class="hljs-string">"span"</span>,
            errorClass: <span class="hljs-string">"help-inline"</span>,
        }


    };

    <span class="hljs-keyword">var</span> screening_configs = {
        <span class="hljs-string">'page_header'</span>: <span class="hljs-string">'Screening'</span>,
        <span class="hljs-string">'list_table_header_template'</span>: <span class="hljs-string">'screening_table_template'</span>,
        <span class="hljs-string">'list_table_row_template'</span>: <span class="hljs-string">'screening_list_item_template'</span>,
        <span class="hljs-string">'add_template_name'</span>: <span class="hljs-string">'screening_add_edit_template'</span>,
        <span class="hljs-string">'edit_template_name'</span>: <span class="hljs-string">'screening_add_edit_template'</span>,
        <span class="hljs-string">'rest_api_url'</span>: <span class="hljs-string">'/coco/api/v1/screening/'</span>,
        <span class="hljs-string">'entity_name'</span>: <span class="hljs-string">'screening'</span>,
        download_chunk_size: <span class="hljs-number">1000</span>,
        <span class="hljs-string">'unique_together_fields'</span>: [<span class="hljs-string">'date'</span>, <span class="hljs-string">'start_time'</span>, <span class="hljs-string">'end_time'</span>, <span class="hljs-string">'village.id'</span>, <span class="hljs-string">'animator.id'</span>],
        afterSave: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(off_json, Offline)</span>{</span>
            <span class="hljs-keyword">var</span> dfd = <span class="hljs-keyword">new</span> $.Deferred();
            <span class="hljs-keyword">var</span> videos_shown = off_json.videoes_screened;
            console.log(<span class="hljs-string">"recvd off_json in afterSave - "</span>+<span class="hljs-built_in">JSON</span>.stringify(off_json));
            update_attendees()
                .done(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>
                    dfd.resolve();
                })
                .fail(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>
                    dfd.reject();
                });
            <span class="hljs-keyword">return</span> dfd.promise();

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update_attendees</span><span class="hljs-params">()</span>{</span>
                <span class="hljs-keyword">var</span> all_update_dfds = [];
                $.each(off_json.farmers_attendance, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(index, per)</span>{</span>
                    all_update_dfds.push(update_attendee(per));    
                });
                <span class="hljs-keyword">return</span> $.when.apply($,all_update_dfds);
            }
            
            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update_attendee</span><span class="hljs-params">(per)</span>{</span>
                <span class="hljs-keyword">var</span> p_dfd = <span class="hljs-keyword">new</span> $.Deferred();
                Offline.fetch_object(<span class="hljs-string">"person"</span>, <span class="hljs-string">"id"</span>, <span class="hljs-built_in">parseInt</span>(per.person_id))
                    .done(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(p_model)</span>{</span>
                        console.log(<span class="hljs-string">"old p -"</span>+<span class="hljs-built_in">JSON</span>.stringify(p_model));
                        <span class="hljs-keyword">var</span> videos_seen = p_model.get(<span class="hljs-string">"videos_seen"</span>);
                        <span class="hljs-keyword">if</span>(videos_seen)
                        {
                            <span class="hljs-keyword">var</span> videos_seen_ids = _.pluck(videos_seen, <span class="hljs-string">'id'</span>);
                            $.each(videos_shown, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(index, vid)</span>{</span>
                                <span class="hljs-keyword">if</span>($.inArray(vid.id, videos_seen_ids)==-<span class="hljs-number">1</span>)
                                    videos_seen.push(vid);
                            });
                        }
                        <span class="hljs-keyword">else</span>
                            videos_seen = videos_shown;
                        p_model.set(<span class="hljs-string">"videos_seen"</span>, videos_seen);
                        Offline.save(p_model, <span class="hljs-string">"person"</span>, p_model.toJSON())
                            .done(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(p_model)</span>{</span>
                                console.log(<span class="hljs-string">"new p -"</span>+<span class="hljs-built_in">JSON</span>.stringify(p_model));
                                p_dfd.resolve();
                            })
                            .fail(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(error)</span>{</span>
                                console.log(<span class="hljs-string">"error updating person in after save - "</span>+error);
                                p_dfd.reject(error);
                            });
                    })
                    .fail(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(error)</span>{</span>
                        console.log(<span class="hljs-string">"error fetching person in after save - "</span>+error);
                        p_dfd.reject(error);
                    });
                <span class="hljs-keyword">return</span> p_dfd;    
            };
        },
        <span class="hljs-string">'foreign_entities'</span>: {
            <span class="hljs-string">'village'</span>: {
                <span class="hljs-string">'village'</span>: {
                    <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_village'</span>,
                    <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'village_name'</span>
                },
            },
            <span class="hljs-string">'video'</span>: {
                <span class="hljs-string">'videoes_screened'</span>: {
                    <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_videoes_screened'</span>,
                    <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'title'</span>
                },
            },
            <span class="hljs-string">'mediator'</span>: {
                <span class="hljs-string">'animator'</span>: {
                    <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_animator'</span>,
                    <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'name'</span>,
                    <span class="hljs-string">'dependency'</span>: [{
                        <span class="hljs-string">'source_form_element'</span>: <span class="hljs-string">'village'</span>,
                        <span class="hljs-string">'dep_attr'</span>: <span class="hljs-string">'assigned_villages'</span>
                    }]
                }
            },
            <span class="hljs-string">'group'</span>: {
                farmer_groups_targeted: {
                    <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_group'</span>,
                    <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'group_name'</span>,
                    <span class="hljs-string">'dependency'</span>: [{
                        <span class="hljs-string">'source_form_element'</span>: <span class="hljs-string">'village'</span>,
                        <span class="hljs-string">'dep_attr'</span>: <span class="hljs-string">'village'</span>
                    }]
                }
            },
            <span class="hljs-string">'person'</span>: {
                person: {
                    <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_person'</span>,
                    <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'person_name'</span>,
                    <span class="hljs-string">'dependency'</span>: [{
                        <span class="hljs-string">'source_form_element'</span>: <span class="hljs-string">'village'</span>,
                        <span class="hljs-string">'dep_attr'</span>: <span class="hljs-string">'village'</span>
                    }],
                    <span class="hljs-string">'filter'</span>: {
                        attr: <span class="hljs-string">'group'</span>,
                        value: <span class="hljs-literal">null</span>
                    }
                },
                farmers_attendance: {
                    dependency: [{
                        <span class="hljs-string">'source_form_element'</span>: <span class="hljs-string">'farmer_groups_targeted'</span>,
                        <span class="hljs-string">'dep_attr'</span>: <span class="hljs-string">'group'</span>
                    }, {
                        <span class="hljs-string">'source_form_element'</span>: <span class="hljs-string">'person'</span>,
                        <span class="hljs-string">'dep_attr'</span>: <span class="hljs-string">'id'</span>
                    }],
                    id_field: <span class="hljs-string">"person_id"</span>, <span class="hljs-comment">// for convert_namespace conversion      </span>
                    <span class="hljs-string">'expanded'</span>: { <span class="hljs-comment">// won't be denormalised, wud be converted offline to online, render wud use a template declared and nt options template, any field to be denormalised or converted offline to online can be declared - this shd be clubbed and put as foreign entity of expanded.  </span>
                        template: <span class="hljs-string">'person_pma_template'</span>,
                        placeholder: <span class="hljs-string">'pmas'</span>,
                        denormalize: { <span class="hljs-comment">// any field in expanded template to be denormalised     </span>
                            <span class="hljs-string">"expressed_adoption_video"</span>: {
                                name_field: <span class="hljs-string">'title'</span>
                            }
                        },
                        foreign_entities: { <span class="hljs-comment">// any more field in expanded template for offline to online conv</span>
                            video:{
                                <span class="hljs-string">"expressed_adoption_video"</span>: {
                                    entity_name: <span class="hljs-string">"video"</span>,
                                    name_field: <span class="hljs-string">'title'</span>
                                }
                            }
                        },
                        extra_fields: [<span class="hljs-string">"expressed_question"</span>, <span class="hljs-string">"interested"</span>, <span class="hljs-string">"expressed_adoption_video"</span>]
                    }
                }
            }
        },
        <span class="hljs-string">'form_field_validation'</span>: {
            ignore: [],
            rules: {
                date: {
                    required: <span class="hljs-literal">true</span>,
                    validateDate: <span class="hljs-literal">true</span>
                },
                start_time: {
                    required: <span class="hljs-literal">true</span>,
                    validateTime: <span class="hljs-literal">true</span>
                },
                end_time: {
                    required: <span class="hljs-literal">true</span>,
                    validateTime: <span class="hljs-literal">true</span>,
					timeOrder: {start_time : <span class="hljs-string">"start_time"</span>}
                },
                animator: <span class="hljs-string">"required"</span>,
                village: <span class="hljs-string">"required"</span>,
                videoes_screened: <span class="hljs-string">"required"</span>,

            },
            messages: {
				date: {
					required: <span class="hljs-string">'Screening date is required'</span>,
					validateDate: <span class="hljs-string">'Enter screening date in the form of YYYY-MM-DD'</span>,
				},
				start_time: {
					required: <span class="hljs-string">'Screening start time is required'</span>,
					validateTime: <span class="hljs-string">'Enter the start time in the form of HH:MM. Use 24 hour format'</span>,
				},
				end_time: {
					required: <span class="hljs-string">'Screening end time is required'</span>,
					validateTime: <span class="hljs-string">'Enter the end time in the form of HH:MM. Use 24 hour format'</span>,
					timeOrder: <span class="hljs-string">'End time should be later than start time'</span>,
				},
				animator: <span class="hljs-string">"Mediator is required"</span>,
				village:<span class="hljs-string">"Village is required"</span>,
				videoes_screened:<span class="hljs-string">"Videos screened is required"</span>,
			},

            highlight: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, errorClass, validClass)</span> {</span>
                $(element)
                    .parent(<span class="hljs-string">'div'</span>)
                    .parent(<span class="hljs-string">'div'</span>)
                    .addClass(<span class="hljs-string">"error"</span>);

            },
            unhighlight: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, errorClass, validClass)</span> {</span>
                $(element)
                    .parent(<span class="hljs-string">'div'</span>)
                    .parent(<span class="hljs-string">'div'</span>)
                    .removeClass(<span class="hljs-string">"error"</span>);

            },
            errorElement: <span class="hljs-string">"span"</span>,
            errorClass: <span class="hljs-string">"help-inline"</span>
        }
    };

    <span class="hljs-keyword">var</span> adoption_configs = {
        <span class="hljs-string">'page_header'</span>: <span class="hljs-string">'Adoption'</span>,
        <span class="hljs-string">'list_table_header_template'</span>: <span class="hljs-string">'adoption_table_template'</span>,
        <span class="hljs-string">'list_table_row_template'</span>: <span class="hljs-string">'adoption_list_item_template'</span>,
        <span class="hljs-string">'add_template_name'</span>: <span class="hljs-string">'adoption_add_template'</span>,
        <span class="hljs-string">'edit_template_name'</span>: <span class="hljs-string">'adoption_edit_template'</span>,
        <span class="hljs-string">'rest_api_url'</span>: <span class="hljs-string">'/coco/api/v1/adoption/'</span>,
        <span class="hljs-string">'entity_name'</span>: <span class="hljs-string">'adoption'</span>,
        <span class="hljs-string">'inc_table_name'</span>: <span class="hljs-string">'personadoptpractice'</span>,
        <span class="hljs-string">'unique_together_fields'</span>: [<span class="hljs-string">'person.id'</span>, <span class="hljs-string">'video.id'</span>, <span class="hljs-string">'date_of_adoption'</span>],
        form_field_validation: {
            ignore: [],
            highlight: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, errorClass, validClass)</span> {</span>
                $(element)
                    .parent(<span class="hljs-string">'div'</span>)
                    .parent(<span class="hljs-string">'div'</span>)
                    .addClass(<span class="hljs-string">"error"</span>);

            },
            unhighlight: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, errorClass, validClass)</span> {</span>
                $(element)
                    .parent(<span class="hljs-string">'div'</span>)
                    .parent(<span class="hljs-string">'div'</span>)
                    .removeClass(<span class="hljs-string">"error"</span>);

            },
            errorElement: <span class="hljs-string">"span"</span>,
            errorClass: <span class="hljs-string">"help-block"</span>,
            display: <span class="hljs-string">"block"</span>
        },
        add: {
            <span class="hljs-string">'foreign_entities'</span>: {
                <span class="hljs-string">'village'</span>: {
                    <span class="hljs-string">'village'</span>: {
                        <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_village'</span>,
                        <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'village_name'</span>
                    },
                },
                <span class="hljs-string">'group'</span>: {
                    <span class="hljs-string">'group'</span>: {
                        <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_group'</span>,
                        <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'group_name'</span>,
                        <span class="hljs-string">'dependency'</span>: [{
                            <span class="hljs-string">'source_form_element'</span>: <span class="hljs-string">'village'</span>,
                            <span class="hljs-string">'dep_attr'</span>: <span class="hljs-string">'village'</span>
                        }]
                    }
                },
                <span class="hljs-string">'person'</span>: {
                    float_person: {
                        <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_person'</span>,
                        <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'person_name'</span>,
                        <span class="hljs-string">'dependency'</span>: [{
                            <span class="hljs-string">'source_form_element'</span>: <span class="hljs-string">'village'</span>,
                            <span class="hljs-string">'dep_attr'</span>: <span class="hljs-string">'village'</span>
                        }],
                        <span class="hljs-string">'filter'</span>: {
                            attr: <span class="hljs-string">'group'</span>,
                            value: <span class="hljs-literal">null</span>
                        }
                    },
                    farmers_attendance: {
                        dependency: [{
                            <span class="hljs-string">'source_form_element'</span>: <span class="hljs-string">'group'</span>,
                            <span class="hljs-string">'dep_attr'</span>: <span class="hljs-string">'group'</span>
                        }, {
                            <span class="hljs-string">'source_form_element'</span>: <span class="hljs-string">'float_person'</span>,
                            <span class="hljs-string">'dep_attr'</span>: <span class="hljs-string">'id'</span>
                        }],
                        id_field: <span class="hljs-string">"person_id"</span>, <span class="hljs-comment">// for convert_namespace conversion      </span>
                        <span class="hljs-string">'expanded'</span>: { <span class="hljs-comment">// won't be denormalised, wud be converted offline to online, render wud use a template declared and nt options template, any field to be denormalised or converted offline to online can be declared - this shd be clubbed and put as foreign entity of expanded.  </span>
                            template: <span class="hljs-string">'adoption_inline'</span>,
                            placeholder: <span class="hljs-string">'bulk'</span>
                        }
                    }
                }
            },
            <span class="hljs-string">'bulk'</span>: {
                foreign_fields: { <span class="hljs-comment">//foreign fields in the individual objects</span>
                    <span class="hljs-string">"video"</span>: {
                        video: {
                            <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'title'</span>
                        }
                    },
                    <span class="hljs-string">"person"</span>: {
                        person: {
                            <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'person_name'</span>
                        }
                    },
                    village: {
                        village:{
                            <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'village_name'</span>
                        }
                    },
                    group: {
                        group:{
                            <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'group_name'</span>
                        }
                    }
                },
                borrow_fields: [<span class="hljs-string">'village'</span>, <span class="hljs-string">'group'</span>]
            }
        },
        edit: {
            <span class="hljs-string">'foreign_entities'</span>: {
                <span class="hljs-string">'person'</span>: {
                    <span class="hljs-string">'person'</span>: {
                        <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_person'</span>,
                        <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'person_name'</span>
                    },
                },
                <span class="hljs-string">'video'</span>: {
                    <span class="hljs-string">'video'</span>: {
                        <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_video'</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>‘sub_attr’: ‘videos_seen’,</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                        <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'title'</span>,
                        <span class="hljs-string">'dependency'</span>: [{
                            <span class="hljs-string">'source_form_element'</span>: <span class="hljs-string">'person'</span>,
                            <span class="hljs-string">'dep_attr'</span>: <span class="hljs-string">'id'</span>,
                            <span class="hljs-string">'src_attr'</span>: <span class="hljs-string">'videos_seen'</span>,
                        }]
                    }
                }
            }
        }

    };

    <span class="hljs-keyword">var</span> person_configs = {
        <span class="hljs-string">'page_header'</span>: <span class="hljs-string">'Person'</span>,
        <span class="hljs-string">'list_table_header_template'</span>: <span class="hljs-string">'person_table_template'</span>,
        <span class="hljs-string">'list_table_row_template'</span>: <span class="hljs-string">'person_list_item_template'</span>,
        <span class="hljs-string">'add_template_name'</span>: <span class="hljs-string">'person_add_edit_template'</span>,
        <span class="hljs-string">'edit_template_name'</span>: <span class="hljs-string">'person_add_edit_template'</span>,
        <span class="hljs-string">'rest_api_url'</span>: <span class="hljs-string">'/coco/api/v1/person/'</span>,
        <span class="hljs-string">'entity_name'</span>: <span class="hljs-string">'person'</span>,
        <span class="hljs-string">'foreign_entities'</span>: {
            <span class="hljs-string">'village'</span>: {
                <span class="hljs-string">'village'</span>: {
                    <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_village'</span>,
                    <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'village_name'</span>
                },
            },
            <span class="hljs-string">'group'</span>: {
                <span class="hljs-string">'group'</span>: {
                    <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'id_group'</span>,
                    <span class="hljs-string">'name_field'</span>: <span class="hljs-string">'group_name'</span>,
					<span class="hljs-string">'dependency'</span>: [{
                        <span class="hljs-string">'source_form_element'</span>: <span class="hljs-string">'village'</span>,
                        <span class="hljs-string">'dep_attr'</span>: <span class="hljs-string">'village'</span>
                    }]
                }
            }
        },
        <span class="hljs-string">'unique_together_fields'</span>: [<span class="hljs-string">'person_name'</span>, <span class="hljs-string">'father_name'</span>, <span class="hljs-string">'village.id'</span>],
        <span class="hljs-string">'sort_field'</span>: <span class="hljs-string">'person_name'</span>,
        <span class="hljs-string">'form_field_validation'</span>: {
            ignore: [],
            rules: {
                person_name: {
                    required: <span class="hljs-literal">true</span>,
                    minlength: <span class="hljs-number">2</span>,
                    maxlength: <span class="hljs-number">100</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>allowedChar:true</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                },

                father_name: {
                    required: <span class="hljs-literal">true</span>,
                    minlength: <span class="hljs-number">2</span>,
                    maxlength: <span class="hljs-number">100</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>allowedChar:true</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                },
                age: {
                    digits: <span class="hljs-literal">true</span>,
                    min: <span class="hljs-number">1</span>,
                    max: <span class="hljs-number">100</span>
                },
                gender: <span class="hljs-string">"required"</span>,
                phone_no: {
                    digits: <span class="hljs-literal">true</span>,
                    maxlength: <span class="hljs-number">10</span>
                },
                village: {
                    required: <span class="hljs-literal">true</span>
                }
            },
            messages: {
				person_name: {
					required: <span class="hljs-string">'Person name is required'</span>,
					minlength: <span class="hljs-string">'Person name  should contain at least 2 characters'</span>,
					maxlength: <span class="hljs-string">'Person Name should contain at most 100 characters'</span>,
					allowedChar: <span class="hljs-string">'Person name should contain only english and local language characters'</span>
				},
				father_name: {
					required: <span class="hljs-string">"Father's name is required"</span>,
					minlength: <span class="hljs-string">"Father's name should contain at least 2 characters"</span>,
					maxlength: <span class="hljs-string">"Father's name should contain at most 100 characters"</span>,
					allowedChar: <span class="hljs-string">"Father's name should contain only english and local language characters"</span>
				},
				age: {
					digits: <span class="hljs-string">"Age should contain only digits"</span>,
					min:<span class="hljs-string">"Age should not be less than 1 year"</span>,
					max:<span class="hljs-string">"Age should not be more than 100 years"</span>
				},
				gender:{
					required: <span class="hljs-string">"Gender is required"</span>
				},
				phone_number_person: {
					digits: <span class="hljs-string">'Phone number should contain digits only'</span>,
					maxlength: <span class="hljs-string">"Phone number should not contain more than 10 digits"</span>
				},
				village: {
					required: <span class="hljs-string">"Village is required"</span>
				}
			},

            highlight: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, errorClass, validClass)</span> {</span>
                $(element)
                    .parent(<span class="hljs-string">'div'</span>)
                    .parent(<span class="hljs-string">'div'</span>)
                    .addClass(<span class="hljs-string">"error"</span>);

            },
            unhighlight: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, errorClass, validClass)</span> {</span>
                $(element)
                    .parent(<span class="hljs-string">'div'</span>)
                    .parent(<span class="hljs-string">'div'</span>)
                    .removeClass(<span class="hljs-string">"error"</span>);

            },
            errorElement: <span class="hljs-string">"span"</span>,
            errorClass: <span class="hljs-string">"help-inline"</span>
        }

    };

    <span class="hljs-keyword">var</span> misc = {
        download_chunk_size: <span class="hljs-number">2000</span>,
        background_download_interval: <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>,
        inc_download_url: <span class="hljs-string">"/get_log/"</span>,
        afterFullDownload: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(start_time, download_status)</span>{</span>
            <span class="hljs-keyword">return</span> saveTimeTaken();
            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">saveTimeTaken</span><span class="hljs-params">()</span>{</span>
                <span class="hljs-keyword">var</span> record_endpoint = <span class="hljs-string">"/coco/record_full_download_time/"</span>; 
                <span class="hljs-keyword">return</span> $.post(record_endpoint, {
                    start_time : start_time,
                    end_time : <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toJSON().replace(<span class="hljs-string">"Z"</span>, <span class="hljs-string">""</span>)
                })    
            }
        },
        reset_database_check_url: <span class="hljs-string">'/coco/reset_database_check/'</span>,
        onLogin: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(Offline, Auth)</span>{</span>
            getLastDownloadTimestamp()
                .done(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(timestamp)</span>{</span>
                    askServer(timestamp);
                });
            <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;    
            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">askServer</span><span class="hljs-params">(timestamp)</span>{</span>
                $.get(that.reset_database_check_url,{
                    lastdownloadtimestamp: timestamp
                })
                    .done(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(resp)</span>{</span>
                        console.log(resp);
                        <span class="hljs-keyword">if</span>(resp==<span class="hljs-string">"1"</span>)
                        {
                            alert(<span class="hljs-string">"Your database will be redownloaded because of some changes in data."</span>);
                            Offline.reset_database();
                        }
                    });
            }   
            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getLastDownloadTimestamp</span><span class="hljs-params">()</span>
            {</span>
                <span class="hljs-keyword">var</span> dfd = <span class="hljs-keyword">new</span> $.Deferred();
                Offline.fetch_object(<span class="hljs-string">"meta_data"</span>, <span class="hljs-string">"key"</span>, <span class="hljs-string">"last_full_download_start"</span>)
                    .done(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(model)</span>{</span>
                        dfd.resolve(model.get(<span class="hljs-string">"timestamp"</span>));
                    })
                    .fail(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(model, error)</span>{</span>
                    
                    });
                <span class="hljs-keyword">return</span> dfd;    
            } 
        }
    };

    <span class="hljs-keyword">return</span> {
        village: village_configs,
        mediator: mediator_configs,
        video: video_configs,
        group: group_configs,
        person: person_configs,
        screening: screening_configs,
        adoption: adoption_configs,
        language: language_configs,
        district: district_configs,
        misc: misc
    }

});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
